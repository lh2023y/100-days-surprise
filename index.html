<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>æˆ‘ä»¬çš„ç¬¬100å¤© â€” è±ªåå‡çº§ç‰ˆ</title>
<style>
/* ---------- reset + åŸºç¡€ ---------- */
:root{
  --accent1: #ff7ab6;
  --accent2: #ff9aa8;
  --glass-bg: rgba(255,255,255,0.12);
  --glass-border: rgba(255,255,255,0.14);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#2b0b20 0%, #2f1026 45%, #111 100%);font-family:"Segoe UI",system-ui,-apple-system,Roboto,"Helvetica Neue",Arial,"Noto Sans CJK SC","PingFang SC","Hiragino Sans GB",sans-serif;color:#fff;overflow:hidden}

/* ---------- canvas å±‚ï¼ˆèƒŒæ™¯ï¼‰ ---------- */
canvas#fireCanvas{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;pointer-events:none;}

/* ---------- UI å±‚ ---------- */
#container{position:relative;z-index:2;width:100%;height:100%;}

/* ---------- é€šç”¨å¼¹æ€§ä¸æ·¡å…¥ ---------- */
.full-screen{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;padding:1rem;box-sizing:border-box;text-align:center;animation:pageIn .5s ease both;}
@keyframes pageIn{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}

/* ---------- ç»ç’ƒå¡ç‰‡æ ·å¼ ---------- */
.glass-card{
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  border-radius:16px;
  padding:18px;
  box-shadow:0 8px 40px rgba(0,0,0,0.45);
  backdrop-filter: blur(12px) saturate(120%);
}

/* ---------- æ¨±èŠ±/å¿ƒå½¢é£˜è½ ---------- */
.sakura{position:fixed;pointer-events:none;user-select:none;z-index:1;color:rgba(255,190,210,0.9)}

/* ---------- æŒ‰é’® ---------- */
.btn{
  display:inline-block;
  padding:.7rem 1.6rem;
  border-radius:999px;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));
  color:white;font-weight:700;border:none;cursor:pointer;
  box-shadow:0 8px 30px rgba(255,120,160,0.12), inset 0 -2px 8px rgba(0,0,0,0.08);
  transition:transform .22s ease, box-shadow .22s ease;
}
.btn:active{transform:translateY(2px)}
.btn:hover{transform:scale(1.05);box-shadow:0 14px 40px rgba(255,120,160,0.18)}

/* ---------- Gift ---------- */
.gift{width:190px;height:190px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:3.2rem;background:linear-gradient(180deg,#ffd7ea,#ffc0de);cursor:pointer;transition:transform .45s cubic-bezier(.2,.9,.2,1);box-shadow:0 12px 40px rgba(0,0,0,0.35)}
.gift.open{animation:giftOpen .8s ease both}
@keyframes giftOpen{0%{transform:rotate(0) scale(1)}25%{transform:rotate(-12deg) scale(1.05)}50%{transform:rotate(12deg) scale(1.05)}75%{transform:rotate(-6deg) scale(1.05)}100%{transform:rotate(0) scale(1)}}

/* ---------- Typewriter ---------- */
.typewriter{max-width:700px;border-radius:14px;padding:18px;font-size:1.05rem;line-height:1.7;background:#fff;color:#111;text-align:center;}

/* ---------- FlipBook ---------- */
.flipbook{display:flex;align-items:center;justify-content:center;gap:12px}
.flip-page{width:420px;min-height:420px;border-radius:14px;padding:0;margin:0;transition:transform .45s ease,opacity .35s ease;display:flex;align-items:stretch;overflow:hidden}
.flip-card{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden;border-radius:14px}
.flip-img-box{height:65%;width:100%;overflow:hidden;background:#ddd}
.flip-img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .8s cubic-bezier(.2,.9,.2,1)}
.flip-text{height:35%;display:flex;align-items:center;justify-content:center;padding:16px;font-size:1.05rem;color:#111;background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.95));text-align:center}

/* ---------- flip meta ---------- */
.flip-meta{position:absolute;right:18px;bottom:18px;font-size:13px;color:rgba(255,255,255,0.85)}

/* ---------- Card & Draw ---------- */
.card{width:160px;height:220px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:2.2rem;cursor:pointer;transition:transform .25s ease;box-shadow:0 12px 35px rgba(0,0,0,0.35);background:linear-gradient(180deg,#fff,#fafafa);color:#111}
.card:active{transform:translateY(2px)}
/* finale */
.finale-text{max-width:720px}

/* ---------- ç‚¹å‡»ç‰¹æ•ˆï¼šripple & hearts ---------- */
.ripple{position:fixed;width:24px;height:24px;border-radius:50%;pointer-events:none;transform:translate(-50%,-50%);background:radial-gradient(circle, rgba(255,255,255,0.9), rgba(255,255,255,0.2) 40%, transparent 60%);animation:rippleAnim .8s ease-out forwards;z-index:3}
@keyframes rippleAnim{from{transform:translate(-50%,-50%) scale(.2);opacity:1}to{transform:translate(-50%,-50%) scale(8);opacity:0}}
.flyHeart{position:fixed;pointer-events:none;font-size:12px;color:rgba(255,120,160,.95);transform-origin:center;animation:flyUp 1.1s cubic-bezier(.18,.9,.18,1) forwards;z-index:3}
@keyframes flyUp{0%{opacity:1;transform:translate(0,0) scale(1)}100%{opacity:0;transform:translate(var(--dx,-40px),var(--dy,-120px)) scale(.3)}}

/* ---------- small screens ---------- */
@media (max-width:640px){
  .flip-page{width:92vw; min-height:64vh}
  .flip-text{font-size:1rem;padding:12px}
  .gift{width:150px;height:150px;font-size:2.6rem}
  .card{width:140px;height:190px}
}

/* ä¹å®«æ ¼å°å¡ç‰‡å›ºå®šé«˜åº¦ï¼Œå›¾ç‰‡é“ºæ»¡ï¼Œä¸æ˜¾ç¤ºæ–‡å­— */
.flip-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
}

.flip-grid .flip-card {
  margin: 0;
  height: 120px; /* å›ºå®šé«˜åº¦ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´ */
  border-radius: 12px;
  overflow: hidden;
  background: #eee;
  display: flex;
  flex-direction: column;
}

.flip-grid .flip-img-box {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.flip-grid .flip-img-box img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* å¡«æ»¡æ ¼å­ï¼Œä¿æŒæ¯”ä¾‹ */
  display: block;
}

/* éšè—æ–‡å­—åŒºåŸŸ */
.flip-grid .flip-text {
  display: none;
}


</style>
</head>
<body>

<!-- canvas çƒŸèŠ±å±‚ -->
<canvas id="fireCanvas"></canvas>

<!-- UI å†…å®¹å±‚ -->
<div id="container"></div>

<!-- éŸ³ä¹ï¼ˆFLAC + MP3 å›é€€ï¼‰-->
<audio id="bgm" preload="auto" loop playsinline>
  <source src="music.flac" type="audio/flac">
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
window.addEventListener('load', ()=>{

  const bgm = document.getElementById('bgm');
  bgm.volume = 0;
  bgm.play().then(()=> { setTimeout(()=>{ bgm.volume = 1 }, 800); }).catch(()=>{
    const resume = ()=>{ bgm.volume=1; bgm.play().catch(()=>{}); window.removeEventListener('click', resume); window.removeEventListener('touchstart', resume); };
    window.addEventListener('click', resume, {once:true});
    window.addEventListener('touchstart', resume, {once:true});
  });

  const canvas = document.getElementById('fireCanvas');
  const ctx = canvas.getContext('2d');
  function resizeCanvas(){ canvas.width=innerWidth; canvas.height=innerHeight; }
  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);

  class Particle{
    constructor(x,y,color,vel,rad){ this.x=x; this.y=y; this.color=color; this.vx=vel.x; this.vy=vel.y; this.r=rad; this.life=1; this.decay=0.015+Math.random()*0.02; this.friction=0.96; this.gravity=0.06; }
    update(){ this.vx*=this.friction; this.vy*=this.friction; this.vy+=this.gravity; this.x+=this.vx; this.y+=this.vy; this.life-=this.decay; }
    draw(){ if(this.life<=0)return; ctx.save(); ctx.globalAlpha=Math.max(0,this.life); const g=ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.r*6); g.addColorStop(0,this.color); g.addColorStop(0.2,this.color); g.addColorStop(1,'rgba(0,0,0,0)'); ctx.fillStyle=g; ctx.beginPath(); ctx.arc(this.x,this.y,this.r*2.2,0,Math.PI*2); ctx.fill(); ctx.globalAlpha=Math.max(0,this.life); ctx.fillStyle=this.color; ctx.beginPath(); ctx.arc(this.x,this.y,this.r,0,Math.PI*2); ctx.fill(); ctx.restore(); }
  }

  let particles=[];

  function createFirework(x,y,intensity=null){ const colors=['#ff6b8a','#ffd166','#7ee787','#7dc7ff','#c78bff','#ffd4a3','#ff5c7c']; const count=(intensity?(intensity):(80+Math.floor(Math.random()*80))); for(let i=0;i<count;i++){ const angle=Math.random()*Math.PI*2; const speed=2+Math.random()*6; const vel={x:Math.cos(angle)*speed,y:Math.sin(angle)*speed*(0.7+Math.random()*1.3)}; const c=colors[Math.floor(Math.random()*colors.length)]; const rad=2+Math.random()*3; particles.push(new Particle(x,y,c,vel,rad)); } }

  function animate(){ ctx.fillStyle='rgba(8,8,10,0.12)'; ctx.fillRect(0,0,canvas.width,canvas.height); for(let i=particles.length-1;i>=0;i--){ const p=particles[i]; p.update(); p.draw(); if(p.life<=0||p.x<-50||p.y>canvas.height+100) particles.splice(i,1); } requestAnimationFrame(animate); }
  animate();

  function createRipple(x,y){ const el=document.createElement('div'); el.className='ripple'; el.style.left=x+'px'; el.style.top=y+'px'; document.body.appendChild(el); setTimeout(()=>el.remove(),900); }
  function createHearts(x,y){ const total=8+Math.floor(Math.random()*6); for(let i=0;i<total;i++){ const h=document.createElement('div'); h.className='flyHeart'; h.style.left=x+'px'; h.style.top=y+'px'; const dx=(Math.random()*2-1)*(40+Math.random()*80); const dy=-(60+Math.random()*140); h.style.setProperty('--dx',dx+'px'); h.style.setProperty('--dy',dy+'px'); h.style.fontSize=(12+Math.random()*18)+'px'; h.textContent='â¤'; document.body.appendChild(h); setTimeout(()=>h.remove(),1200+Math.random()*400); } }

  const pages=[]; const container=document.getElementById('container'); let current=0;

  /* Page 0: Cover */
  pages.push((container,next)=>{
    container.innerHTML=`<div class="full-screen">
      <div class="glass-card" style="text-align:center;max-width:720px">
        <h1 style="font-size:2.8rem;margin:0;color:var(--accent1)">æˆ‘ä»¬çš„ç¬¬ 100 å¤©</h1>
        <p style="color:rgba(255,255,255,0.9);margin:18px 0 28px;">ä»Šå¤©æƒ³ç»™ä½ ä¸€ä¸ªå°å°çš„ä»ªå¼æ„Ÿï¼Œæ„¿è¿™é¡µé¢æ¯ä¸€å¸§éƒ½åƒæˆ‘ä»¬åœ¨ä¸€èµ·çš„æ¸©æŸ”</p>
        <div style="display:flex;gap:12px;justify-content:center">
          <button id="enterBtn" class="btn">è¿›å…¥æˆ‘ä»¬çš„å›å¿†</button>
          <button id="playBtn" class="btn" style="background:linear-gradient(135deg,#ffd166,#ff9aa2)">æ’­æ”¾éŸ³ä¹</button>
        </div>
      </div>
    </div>`;
    document.getElementById('enterBtn').onclick=next;
    document.getElementById('playBtn').onclick=()=>{ bgm.play().catch(()=>{}); };
  });

  /* Page 1: Gift */
  pages.push((container,next)=>{
    container.innerHTML=`<div class="full-screen">
      <div class="glass-card" style="display:flex;flex-direction:column;align-items:center;gap:12px">
        <div class="gift" id="gift">ğŸ</div>
        <div style="color:rgba(255,255,255,0.9)">ç‚¹å‡»ç¤¼ç‰©æ‰“å¼€</div>
      </div>
    </div>`;
    const gift=document.getElementById('gift');
    gift.onclick=(e)=>{
      gift.classList.add('open');
      const rect=gift.getBoundingClientRect();
      createFirework(rect.left+rect.width/2,rect.top+rect.height/2,120);
      createRipple(rect.left+rect.width/2,rect.top+rect.height/2);
      setTimeout(()=>next(),1400);
    };
  });

  /* Page 2: Typewriter */
  pages.push((container,next)=>{
    container.innerHTML=`<div class="full-screen">
      <div class="typewriter glass-card" id="typeBox">
        <div id="typeText" style="min-height:84px"></div>
        <div style="margin-top:14px;text-align:center">
          <button id="typeNext" class="btn" style="display:none">ç»§ç»­</button>
        </div>
      </div>
    </div>`;
    const text="åœ¨è¿‡å»çš„ä¸€ç™¾å¤©é‡Œï¼Œä½ è®©æˆ‘çŸ¥é“ä»€ä¹ˆæ˜¯å¿ƒåŠ¨ä¸è¢«çˆ±ã€‚è°¢è°¢ä½ ï¼Œæ„¿æœªæ¥æ¯ä¸€ä¸ªæ—¥å­éƒ½ä¸æˆ‘åŒåœ¨ã€‚";
    const typeText=document.getElementById('typeText');
    const typeNext=document.getElementById('typeNext');
    let i=0;
    function typeChar(){
      if(i<text.length){
        typeText.innerHTML=text.slice(0,i)+'<span class="blinking">|</span>';
        i++; setTimeout(typeChar,44);
      }else{
        typeText.innerHTML=text;
        typeNext.style.display='inline-block';
      }
    }
    typeChar();
    typeNext.onclick=next;
  });

  /* Page 3: Fireworks interactive */
  pages.push((container,next)=>{
    container.innerHTML=`<div class="full-screen">
      <div class="glass-card" style="width:80%;max-width:880px">
        <p style="margin:0 0 12px;">éšæ„ç‚¹å±å¹•æ”¾çƒŸèŠ±ï¼šğŸ†ğŸ†ğŸ†ğŸ†</p>
        <div style="margin-top:14px;text-align:center">
          <button id="fireNext" class="btn" style="display:none">ä¸‹ä¸€æ­¥</button>
        </div>
      </div>
    </div>`;
    const fireNext=document.getElementById('fireNext');
    function onClick(e){
      const x=e.clientX||window.innerWidth/2; const y=e.clientY||window.innerHeight/2;
      createRipple(x,y); createHearts(x,y); createFirework(x,y); bgm.play().catch(()=>{});
      fireNext.style.display='inline-block';
    }
    document.getElementById('container').addEventListener('click',onClick);
    fireNext.onclick=()=>{ document.getElementById('container').removeEventListener('click',onClick); next(); };
  });

  /* Page 4: FlipBook */
  /* Page 4: FlipBook */
/* Page 4: FlipBook ä¸¤ä¸ªä¹å®«æ ¼ç¿»é¡µ */
pages.push((container,next)=>{
  const flipPages=[
    { img: "/1.jpg", text: "è¿™å¼ ç¥¨ï¼Œæ˜¯å¼€å¾€æˆ‘å¿ƒé‡Œçš„èµ·ç‚¹ğŸš„ğŸ’˜" },
    { img: "/2.jpg", text: "ç»™ä½ ä¹°çš„èŠ±ï¼Œå¿ƒè·³å¾—åƒè¦è·³å‡ºæ¥ğŸ’“" },
    { img: "/3.jpg", text: "ä¸€èµ·åƒçš„ç¬¬ä¸€é¡¿é¥­ï¼Œå¯¹åçš„ä½ è®©æˆ‘å°åˆ°äº†å¿ƒåŠ¨ğŸ½ï¸âœ¨" },
    { img: "/4.jpg", text: "å·æ‹ä½ çš„é‚£ä¸ªç¬é—´ï¼Œæ˜¯æˆ‘æœ€å°å¿ƒç¿¼ç¿¼çš„å¿ƒåŠ¨ğŸ“¸ğŸ’" },
    { img: "/5.jpg", text: "å½“å±å¹•å˜æˆå¿ƒå½¢ï¼Œæˆ‘çš„å¿ƒé‡Œå…¨æ˜¯ä½ â¤ï¸ğŸ‘€" },
    { img: "/6.jpg", text: "è¡—è§’åˆç…§ï¼Œè£…ä¸‹äº†æˆ‘å…¨éƒ¨çš„å–œæ¬¢ğŸ“¸ğŸ’‘" },
    // ä¹å®«æ ¼å›¾ç‰‡
    { img: "/7.jpg", text: "" },
    { img: "/8.jpg", text: "" },
    { img: "/9.jpg", text: "" },
    { img: "/10.jpg", text: "" },
    { img: "/11.jpg", text: "" },
    { img: "/12.jpg", text: "" },
    { img: "/13.jpg", text: "" },
    { img: "/14.jpg", text: "" },
    { img: "/15.jpg", text: "" },
    // ç¬¬äºŒä¸ªä¹å®«æ ¼
    { img: "/16.jpg", text: "" },
    { img: "/17.jpg", text: "" },
    { img: "/18.jpg", text: "" },
    { img: "/19.jpg", text: "" },
    { img: "/20.jpg", text: "" },
    { img: "/21.jpg", text: "" },
    { img: "/22.jpg", text: "" },
    { img: "/23.jpg", text: "" },
    { img: "/24.jpg", text: "" },
  ];

  container.innerHTML=`
  <div class="full-screen">
    <div style="width:100%;max-width:980px;position:relative">
      <div class="flipbook" id="flipBook">
        <button id="prevBtn" class="btn" style="background:rgba(255,255,255,0.95);color:#111">â—€</button>
        <div class="flip-page" id="flipPage"></div>
        <button id="nextBtn" class="btn" style="background:rgba(255,255,255,0.95);color:#111">â–¶</button>
      </div>
      <div class="flip-meta" id="flipMeta"></div>
      <div style="text-align:center;margin-top:14px;">
        <button id="flipToNext" class="btn">ä¸‹ä¸€æ­¥</button>
      </div>
    </div>
  </div>`;

  const flipPage=document.getElementById('flipPage');
  const prevBtn=document.getElementById('prevBtn');
  const nextBtn=document.getElementById('nextBtn');
  const flipMeta=document.getElementById('flipMeta');
  const flipToNext=document.getElementById('flipToNext');
  let idx=0;       // å½“å‰é¡µç´¢å¼•
  let gridPage=0;  // ä¹å®«æ ¼ç¿»é¡µç´¢å¼•ï¼ˆ0 æˆ– 1ï¼‰

  function render(){
    let html='';
    if(idx<6){
      // å‰å…­å¼ å¤§å›¾ç¿»é¡µ
      const d=flipPages[idx];
      html=`<div class="flip-card">
        <div class="flip-img-box"><img src="${d.img}" class="flip-img" alt="page-${idx+1}"></div>
        <div class="flip-text">${d.text}</div>
      </div>`;
      flipMeta.textContent=`${idx+1} / 6`;
    } else {
      // ä¹å®«æ ¼
      const start = 6 + gridPage*9;
      const end = Math.min(start+9, flipPages.length);
      const group = flipPages.slice(start, end);
      html='<div class="flip-grid">';
      group.forEach((d,j)=>{
        html+=`<div class="flip-card">
          <div class="flip-img-box"><img src="${d.img}" class="flip-img" alt="page-${start+j+1}"></div>
          <div class="flip-text">${d.text}</div>
        </div>`;
      });
      html+='</div>';
      flipMeta.textContent=`ä¹å®«æ ¼ ${gridPage+1} / 2`;
    }
    flipPage.innerHTML=html;
  }

  function go(n){
    if(idx<6){
      idx=n;
      if(idx<0) idx=0;
      if(idx>5) idx=6;
    } else {
      gridPage += n;
      if(gridPage<0) gridPage=0;
      if(gridPage>1) gridPage=1;
    }
    flipPage.style.transform='scale(.94) rotateY(12deg)';
    flipPage.style.opacity='0';
    setTimeout(()=>{ render(); flipPage.style.transform='scale(1) rotateY(0deg)'; flipPage.style.opacity='1'; },220);
  }

  prevBtn.onclick=()=> go(idx<6?idx-1:-1); // å¦‚æœå‰å…­å¼ ï¼Œå¤§å›¾ç¿»é¡µï¼Œå¦åˆ™ä¹å®«æ ¼ä¸Šä¸€é¡µ
  nextBtn.onclick=()=> go(idx<6?idx+1:1);  // ä¹å®«æ ¼ç¿»é¡µä¸‹ä¸€é¡µ
  flipToNext.onclick=next;

  window.addEventListener('keydown',(e)=>{
    if(e.key==='ArrowLeft') prevBtn.click();
    if(e.key==='ArrowRight') nextBtn.click();
  });

  render();
});



  /* Page 5: DrawCard */
  pages.push((container,next)=>{
    const quotes=[
      "åœ¨æˆ‘å¿ƒä¸­ï¼Œä½ åƒä¸€æœ¬æ°¸è¿œçœ‹ä¸åŒçš„ä¹¦ã€‚",
      "å–œæ¬¢ä½ ï¼Œæ˜¯æˆ‘åšè¿‡æœ€è‚¯å®šçš„äº‹ã€‚",
      "è‹¥èƒ½ä¸ä½ å…±åº¦ä½™ç”Ÿï¼Œä¾¿æ˜¯æœ€å¥½çš„å®‰æ’ã€‚",
      "ä½ çš„ç¬‘ï¼Œä½¿ä¸–ç•Œéƒ½äº®äº†ã€‚",
      "æˆ‘ä¼šæŠŠæ¯ä¸€ä¸ªæœªæ¥éƒ½åˆ†ç»™ä½ ä¸€åŠã€‚"
    ];
    container.innerHTML=`<div class="full-screen">
      <div class="glass-card" style="display:flex;flex-direction:column;align-items:center;gap:12px">
        <div class="card" id="drawCard">ğŸ´</div>
        <div style="color:rgba(255,255,255,0.9)">æŠ½ä¸€å¼ å¡</div>
        <div id="result" style="min-height:36px;color:rgba(255,255,255,0.95)"></div>
        <div><button id="drawNext" class="btn" style="display:none">ä¸‹ä¸€æ­¥</button></div>
      </div>
    </div>`;
    const card=document.getElementById('drawCard');
    const result=document.getElementById('result');
    const drawNext=document.getElementById('drawNext');
    card.onclick=()=>{
      card.style.transform='scale(1.16)';
      const rect=card.getBoundingClientRect();
      createFirework(rect.left+rect.width/2,rect.top+rect.height/2,100);
      setTimeout(()=>{
        card.style.transform='scale(1)';
        const r=quotes[Math.floor(Math.random()*quotes.length)];
        result.innerText=r;
        drawNext.style.display='inline-block';
      },700);
    };
    drawNext.onclick=next;
  });

  /* Page 6: Finale */
  pages.push((container,next)=>{
    container.innerHTML=`<div class="full-screen">
      <div class="glass-card finale-text" style="max-width:720px">
        <h2 style="font-size:2rem;margin:0;color:var(--accent1)">è°¢è°¢ä½ ï¼Œç•™åœ¨æˆ‘èº«æ—</h2>
        <p style="margin-top:12px;color:rgba(255,255,255,0.95)">æœªæ¥çš„æ¯ä¸€ä¸ªä¸€ç™¾å¤©ï¼Œæˆ‘éƒ½æƒ³è¦å’Œä½ ä¸€èµ·èµ°ã€‚ç‚¹ä¸‹é¢æŒ‰é’®ï¼Œå†å¬æˆ‘è¯´ä¸€å¥ã€‚</p>
        <div style="margin-top:16px"><button id="loveBtn" class="btn">å†è¯´ä¸€æ¬¡æˆ‘å–œæ¬¢ä½ </button></div>
      </div>
    </div>`;
    const loveBtn=document.getElementById('loveBtn');
    loveBtn.onclick=()=>{
      createFirework(window.innerWidth/2,window.innerHeight/2,180);
      bgm.play().catch(()=>{});
      setTimeout(()=>alert('æˆ‘å–œæ¬¢ä½  â¤ï¸'),500);
    };
  });

  function nextPage(){ if(current<pages.length){ pages[current](container,()=>{ current++; nextPage(); }); } }

  /* é£˜èŠ±åˆå§‹åŒ– */
  (function initSakura(){
    for(let i=0;i<28;i++){
      const s=document.createElement('div'); s.className='sakura'; s.innerText=Math.random()<0.6?'â€':'â¤';
      const size=12+Math.random()*18; s.style.fontSize=size+'px'; s.style.left=(Math.random()*100)+'vw'; s.style.top=(Math.random()*100)+'vh'; s.style.opacity=(0.35+Math.random()*0.6);
      document.body.appendChild(s);
      let dir=Math.random()<0.5?1:-1; let speed=0.02+Math.random()*0.09;
      (function floatLoop(){ let t=0; function step(){ t+=speed; const top=parseFloat(s.style.top||0); s.style.top=((top+dir*speed)%110)+'vh'; s.style.left=(parseFloat(s.style.left||0)+Math.sin(t)*0.05)+'vw'; requestAnimationFrame(step); } requestAnimationFrame(step); })();
    }
  })();

  container.addEventListener('click',(e)=>{
    const tag=e.target.tagName.toLowerCase();
    if(tag==='button'||e.target.closest('button'))return;
    createRipple(e.clientX,e.clientY);
    createHearts(e.clientX,e.clientY);
    createFirework(e.clientX,e.clientY,30);
  });

  nextPage();

});
</script>
</body>
</html>

